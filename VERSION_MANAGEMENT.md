# Управление версиями приложения

## Автоматическое обновление версий при деплое

Система автоматически инкрементирует версию приложения при каждом деплое на GitHub Pages.

### Как это работает

1. **При пуше в main/master ветку** - автоматически увеличивается patch версия (например: 1.0.0 → 1.0.1)
2. **Версия записывается в переменную окружения** `REACT_APP_VERSION` для использования в приложении
3. **Обновленная версия коммитится обратно** в репозиторий с меткой `[skip ci]`

### Ручное управление версиями

Для локального инкремента версии можно использовать npm скрипты:

```bash
# Инкремент patch версии (1.0.0 → 1.0.1)
npm run version:patch

# Инкремент minor версии (1.0.0 → 1.1.0)  
npm run version:minor

# Инкремент major версии (1.0.0 → 2.0.0)
npm run version:major
```

### Изменение типа автоматического инкремента

По умолчанию при деплое увеличивается **patch** версия. Чтобы изменить это:

1. Откройте `.github/workflows/deploy.yml`
2. Найдите строку `npm run version:patch`
3. Замените на `npm run version:minor` или `npm run version:major`

### Использование версии в приложении

Версия доступна через переменную окружения:

```javascript
const appVersion = process.env.REACT_APP_VERSION;
console.log('Версия приложения:', appVersion);
```

### Структура версий

Используется семантическое версионирование (Semantic Versioning):

- **MAJOR** версия - для несовместимых изменений API
- **MINOR** версия - для добавления функциональности с обратной совместимостью  
- **PATCH** версия - для исправления ошибок с обратной совместимостью

### Особенности

- Коммиты версий содержат `[skip ci]` чтобы избежать циклических сборок
- Автоматическое обновление версии происходит только при деплое в production (main/master ветки)
- Pull Request'ы не влияют на версию - инкремент происходит только при merge

### Файлы системы

- `scripts/version-bump.js` - скрипт для инкремента версии
- `.github/workflows/deploy.yml` - workflow с автоматическим версионированием
- `package.json` - хранит текущую версию приложения
